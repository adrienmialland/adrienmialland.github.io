---
title: "Laboratory Prototype"
layout: single-portfolio
excerpt: "<img src='/images/research/laboratory-prototype.png' alt=''>"
category: Past Projects
collection: research
order_number: 2
header: 
  og_image: 
---

This project is a sub-project of the research I conducted during my Ph.D, which you can find the details on the [Artificial Larynx](/research/artificial-larynx){: target="_blank"} page I dedicated to it. In short, my thesis work demonstrated the viability of an implantable swallowing detection system, meant to be part of an implantable active artificial larynx. The larynx being an organ located in the throat that allows to speak, breath and especially to swallow by closing the airway during swallowing to avoid food to enter it. However, surgical treatment of advanced laryngeal cancer removes the larynx entirely, and a implantable system that reproduces its airway protective mechanism has yet to be developed.

In that regard, I found that specific anatomical structures can provide qualitative signals that satify the requirements of such an implanted system. I provided a comprehensive analysis of the activity of two specific neck muscles involved in swallowing, after their measurement on human within a [clinical research protocol](https://clinicaltrials.gov/study/NCT05452018){: target="_blank"} framework and with an otorhinolaryngologist surgeon. I also discussed what would make a swallowing detection system implantable. However, so far, this work focused on the ability of the anatomy to provide effective signals, but a comprehensive analysis should also evaluate the ability of an implanted system to run a swallowing detection algorithm and close a protective mechanism of the trachea in **real time**, before any risk of food entering the airway. My thesis work showed that the anatomy provide a relatively confortable time of **427 milliseconds** for such a system to operate, comparable to the timings available in other health devices application, such as arm prosthesis. Therefore, the current project aimed at developing a laboratory prototype, as a proof of concept, to evaluate the capabilities of an implantable active artificial larynx to fit within this timing constraint.  So, after I established the requirements and the basis of it, its practical implementation was conducted by engineering students in electronics and mechanics, that I supervised within internships. The final system has been the topic of a publication that you can find in the following paper.

> A. Mialland, E. Bouchet, A. Diallo, and A. Bonvilain - "Implantable active artificial larynx: timing evaluation of a laboratory prototype" - *IEEE International Conference on Advanced Robotics and Mechatronics*

[Article](http://www.ieee-arm.org/){: .btn--research target="_blank"} [Preprint](/files/pdf/research/artificial_larynx_prototype.pdf){: .btn--research target="_blank"}

This laboratory prototype emulates the engineering constraints of an implantable system. It first reproduces on low power microcontrollers, the [real-time swallowing detection algorthms](https://doi.org/10.1109/TMRB.2023.3336960){: target="_blank"} that I developed using the data from the clinical research protocol. Second, It reproduces the protective mechanism of the larynx with the development of a specific active mechanism. The overall design is volontarily simple to focus on the speed ability of such a system, and its final version can be seen in the following picture.

![](/images/research/laboratory-prototype-IN.png)

It functions by receiving signals from the computer, that sends them one sample after another, at the same frequency they have been acquired during the clinical research protocol. The microcontroller then runs a machine learning algorithm using the latest Ns number of samples of the incoming signals, and Ns is usually chosen to be small to increase the frequency at which the signals are analysed. The algorithm then classifies the data as a swallowing or non-swallowing event. Three low-power microcontrollers (STM32L01RB, STM32F44RE, STM32U575ZI) and three machine learning algorithm (LDA, SVM, ANN) were implemented, and the results of their processing speed analysis can be found in the following figure. So, first thing to note is that each of these classifier allowed for a drastic improvement in [swallowing detection](https://doi.org/10.1109/TMRB.2023.3336960){: target="_blank"} performances when using the specific signals I found in my [thesis](/research/artificial-larynx){: target="_blank"}, in comparison to commonly used signals, which legitimate their comparison here. Second, apart from the very technical aspects of the figure, it implies that two of the classifiers provide very short processing time, as referred to the "time (ms)" column (in milliseconds), when processed with the microcontrollers that have modules specialised in signal processing (FPU and DSP modules). Third, three classifier where not implemented on microcontrollers, either because the processing time was way too slow to fit within our requirements or because the memory it required was too large.

![](/images/research/prototype-timings.png)

The second part of the prototype consists in the protective mechanism, that is actuated by the microcontroller when a swallowing is detected. It activates a logical output that is used to control a power circuit that, in turn, control a latching solenoid. The latter being a solenoid able to stay in its actuated position, without the need to maintain the source of power, which allows to reduce the power consumption. The solenoid then rotates a valve 90 degrees, that closes a cylinder that represents the airway. So, to estimate the time required to close the vavle, the system was filmed with a high-speed camera (1000 fps). Then, when a swallowing is detected, a LED is turned on on the microcontroller, right before it activates a logical output. The functioning time of the protective mechanism is therefore the time elapsed on the camera between the moment the LED turns on and the moment the vavle is entirely closed. Then, the results show an actuation time of 22 milliseconds. The closing mechanism can be seen in the following figure.

![](/images/research/prototype-mechanism.png)

Finally, the total operational uptime of the laboratory prototype is the addition of the worst processing time and the time required to close the protective mechanism, which makes a total of **25.27 milliseconds**. This result therefore establishes the viable perspective of fast implanted swallowing detection system, given the available time of **427 milliseconds**, from the start of a swallowing up to moment the airway is at risk of the food entering it. 

Obviously, the current prototype has no implantable properties apart from the timings, and new developments are required in that front. Indeed, no research is currently conducted on such a system, but several future lines of research can be mentioned. Firtst, the detection algorithms used in this study are basic machine learning algortithms that served to provide a general evaluation, but the development of a dedicated, robust and fast algorithm is required. Second, Regarding the protective mechanism, there is no doubt that a dedicated project would provide a better engineered and even faster design, which is actually required in case of any delayed onset of swallowing, for instance, which would limit the time available. Also, the final mechanism should incorporate a passive protection, in addition of the active one, to protect the trachea when there is no swallowing but incoming foreign body, such a drip from the nose. Furthermore, a security should be included to avoid any definitive closure of the airway, and all these requirements should be combined within a small design, to minimize the mechanical constraints applied to surrounding tissues. Finally, the system should integrate with any of the latest airway reconstruction methods suited for an implantable active artificial larynx.



